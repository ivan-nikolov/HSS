@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider AuthenticationStateProvider


<CascadingAuthenticationState>
    <AuthorizeView>
        <Authorized>
            <div class="sidebar mt-3">
                <NavMenu />
            </div>
            <div id="main">
                <div id="content">
                    @Body
                </div>
            </div>
        </Authorized>
        <NotAuthorized>
            @{
                var returnUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
                <RedirectToLogin ReturnUrl="@returnUrl"></RedirectToLogin>
            }
        </NotAuthorized>
    </AuthorizeView>
</CascadingAuthenticationState>
@code {
    private AuthenticationState authenticationState;

    protected override async Task OnInitializedAsync()
    {
        this.authenticationState = await this.AuthenticationStateProvider.GetAuthenticationStateAsync();
    }


}
